@model WebApplication2.Models.Pizza

@{
    ViewData["Title"] = "Create";
}

<div class="checkBoxContainer">
    <div class="formContainer">
        <h1>Create Your Own Pizza!</h1>
        <form id="customPizzaForm" type="submit" action="AddCustomPizza">
            <input type="text" placeholder="Give your pizza a name..." name="PizzaName" />
            <br />
            <input type="checkbox" placeholder="Tomato Sauce" name="TomatoSauce" />Tomato Sauce
            <br />
            <input type="checkbox" placeholder="Cheese" name="Cheese" />Cheese
            <br />
            <input type="checkbox" placeholder="Pepperoni" name="Pepperoni" />Pepperoni
            <br />
            <input type="checkbox" placeholder="Mushroom" name="Mushroom" />Mushroom
            <br />
            <input type="checkbox" placeholder="Tuna" name="Tuna" />Tuna
            <br />
            <input type="checkbox" placeholder="Pineapple" name="Pineapple" />Pineapple
            <br />
            <input type="checkbox" placeholder="Ham" name="Ham" />Ham
            <br />
            <input type="checkbox" placeholder="Beef" name="Beef" />Beef
            <br />

            <p>Final Price: $<span id="finalPrice">0</span></p>

            <button class="btn btn-primary" type="submit">Add to Cart</button>
        </form>
    </div>
</div>

<script>
    function calculateFinalPrice() {
        var price = 2;
        var toppings = {
            TomatoSauce: 2,
            Cheese: 1,
            Pepperoni: 0.5,
            Mushroom: 0.3,
            Tuna: 12,
            Pineapple: 9,
            Ham: 5,
            Beef: 1.5
        };

        var form = document.getElementById('customPizzaForm');
        var checkboxes = form.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                if (this.checked) {
                    var topping = this.name;
                    price += toppings[topping];
                } else {
                    var topping = this.name;
                    price -= toppings[topping];
                }
                var finalPriceElement = document.getElementById('finalPrice');
                finalPriceElement.textContent = price.toFixed(2);
            });
        });
    }

    var form = document.getElementById('customPizzaForm');
    form.addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent the form from submitting
        calculateFinalPrice(); // Calculate the final price when the form is submitted
        form.submit(); // Submit the form
    });

    calculateFinalPrice();

</script>

<style>
    .checkBoxContainer {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .formContainer {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 5px;
        background-color: lightgray;
        border-radius: 5px;
    }

        .formContainer input[type="text"],
        .formContainer input[type="checkbox"] {
            margin-bottom: 10px;
            border: 1px solid #007bff;
        }

        .formContainer input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 1px solid #ccc;
            vertical-align: middle;
            margin-right: 8px;
        }

            .formContainer input[type="checkbox"]::before {
                content: "";
                display: inline-block;
                width: 100%;
                height: 100%;
                background-color: white;
                border-radius: 50%;
                border: 1px solid #007bff;
                transition: background-color 0.3s ease;
            }

            .formContainer input[type="checkbox"]:checked::before {
                background-color: #007bff;
            }

        .formContainer label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding-left: 5px;
        }

        .formContainer button {
            width: 100%;
            margin-top: 10px;
        }
</style>
